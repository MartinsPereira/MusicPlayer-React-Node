[{"C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\SongsPlayer\\songplayer\\src\\index.js":"1","C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\SongsPlayer\\songplayer\\src\\App.js":"2","C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\SongsPlayer\\songplayer\\src\\Components\\Home.js":"3","C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\SongsPlayer\\songplayer\\src\\Components\\Song.js":"4","C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\index.js":"5","C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\App.js":"6","C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\Home.js":"7","C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\Song.js":"8","C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\Data\\Songs.js":"9","C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Services\\Api.js":"10","C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\Header.js":"11","C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\GlobalContext.js":"12","C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\Login\\Login.js":"13","C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\Login\\LoginForm.js":"14","C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\ProtectedRoute.js":"15","C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\Cadastrar\\Cadastrar.js":"16","C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\Cadastrar\\CadastrarMusica.js":"17","C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\Cadastrar\\CadastrarAlbum.js":"18","C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\Listagem\\Listagem.js":"19","C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\Listagem\\ListaAlbum.js":"20","C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\PlayerFooter.js":"21","C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\Listagem\\ListaPlayList.js":"22","C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\Cadastrar\\CadastrarPlaylist.js":"23","C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\PlayListIndividual.js":"24"},{"size":220,"mtime":1608493873350,"results":"25","hashOfConfig":"26"},{"size":150,"mtime":1608495325877,"results":"27","hashOfConfig":"26"},{"size":174,"mtime":1608495429972,"results":"28","hashOfConfig":"26"},{"size":4825,"mtime":1608583165093,"results":"29","hashOfConfig":"26"},{"size":232,"mtime":1609090098550,"results":"30","hashOfConfig":"31"},{"size":1303,"mtime":1610239457547,"results":"32","hashOfConfig":"31"},{"size":2209,"mtime":1612642682049,"results":"33","hashOfConfig":"31"},{"size":4497,"mtime":1610239616097,"results":"34","hashOfConfig":"31"},{"size":1296,"mtime":1609627706519,"results":"35","hashOfConfig":"31"},{"size":119,"mtime":1609092492619,"results":"36","hashOfConfig":"31"},{"size":2326,"mtime":1612371192972,"results":"37","hashOfConfig":"31"},{"size":3200,"mtime":1612646825192,"results":"38","hashOfConfig":"31"},{"size":545,"mtime":1609442071022,"results":"39","hashOfConfig":"31"},{"size":1255,"mtime":1610239616985,"results":"40","hashOfConfig":"31"},{"size":391,"mtime":1609607956625,"results":"41","hashOfConfig":"31"},{"size":462,"mtime":1609447027744,"results":"42","hashOfConfig":"31"},{"size":153,"mtime":1609447064565,"results":"43","hashOfConfig":"31"},{"size":2213,"mtime":1610239469134,"results":"44","hashOfConfig":"31"},{"size":392,"mtime":1609697521737,"results":"45","hashOfConfig":"31"},{"size":4363,"mtime":1610239553138,"results":"46","hashOfConfig":"31"},{"size":5033,"mtime":1612302282790,"results":"47","hashOfConfig":"31"},{"size":618,"mtime":1612642931711,"results":"48","hashOfConfig":"31"},{"size":2487,"mtime":1612304121667,"results":"49","hashOfConfig":"31"},{"size":8285,"mtime":1612645921694,"results":"50","hashOfConfig":"31"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"53"},"1kjhwh7",{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"53"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"53"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},"1y1crym",{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"62"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"73"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79","usedDeprecatedRules":"62"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82","usedDeprecatedRules":"62"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"101","usedDeprecatedRules":"62"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"104","usedDeprecatedRules":"62"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"109","usedDeprecatedRules":"62"},"C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\SongsPlayer\\songplayer\\src\\index.js",[],["110","111"],"C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\SongsPlayer\\songplayer\\src\\App.js",[],"C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\SongsPlayer\\songplayer\\src\\Components\\Home.js",[],"C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\SongsPlayer\\songplayer\\src\\Components\\Song.js",[],"C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\index.js",[],["112","113"],"C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\App.js",[],"C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\Home.js",["114"],"import './Home.css'\r\nimport React from 'react'\r\nimport '../Components/Song.css'\r\nimport imgs from '../Assets/Img/marshmello.jpg'\r\nimport { Link } from 'react-router-dom'\r\nimport api from '../Services/Api'\r\n\r\nfunction Home() {\r\n  const [songsAlbuns, setSongsAlbuns] = React.useState();\r\n  const [songsPlaylists, setSongsPlaylist] = React.useState();\r\n\r\n  React.useEffect(() => {\r\n    async function searchAllAlbuns(){\r\n      const token = window.localStorage.getItem('token')\r\n      const {data} =  await api.get('/procurar/albuns/todos',{headers: {Authorization: 'Bearer ' + token}})\r\n      setSongsAlbuns(data)\r\n    }\r\n    searchAllAlbuns();\r\n    async function searchAllPlaylists(){\r\n      const token = window.localStorage.getItem('token')\r\n      const {data} =  await api.get('/procurar/playlists/todos',{headers: {Authorization: 'Bearer ' + token}})\r\n      setSongsPlaylist(data)\r\n    }\r\n    searchAllPlaylists();\r\n    \r\n  },[])\r\n\r\n  if(!songsAlbuns) return 'Carregando...'\r\n  if(!songsPlaylists) return 'Carregando...'\r\n  return (\r\n    <section className=\"listagem\">\r\n      <div className=\"container\">\r\n        <div className=\"listagemHome\">\r\n          <h2>Albuns</h2>\r\n          <ul>\r\n            {songsAlbuns.map(i => (\r\n              <li>\r\n                <Link to={'/album/' + i._id}>\r\n                  <div className=\"imgAlbum\">\r\n                    <input type=\"hidden\" />\r\n                    <img src={i.img} alt=\"\"/>\r\n                  </div>\r\n                  <Link to={'/album/' + i._id} >{i.title}</Link>\r\n                </Link>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n        <div className=\"listagemHome\">\r\n          <h2>Playlists</h2>\r\n          <ul>\r\n            {songsPlaylists.map(i => (\r\n              <li>\r\n                <Link to={'/playlist/' + i._id}>\r\n                  <div className=\"imgAlbum\">\r\n                    <input type=\"hidden\" />\r\n                    <img src={i.img} alt=\"\"/>\r\n                  </div>\r\n                  <Link to={\"/playlist/\" + i._id}>{i.title}</Link>\r\n                </Link>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\Song.js",[],["115","116"],"C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\Data\\Songs.js",[],["117","118"],"C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Services\\Api.js",[],["119","120"],"C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\Header.js",["121"],"import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport './Header.css'\r\nimport imgHome from '../Assets/svg/home.svg'\r\nimport imgAlbum from '../Assets/svg/music-album.svg'\r\nimport imgMusic from '../Assets/svg/AddMusic.svg'\r\nimport imgLogout from '../Assets/svg/logout.svg'\r\nimport imgPlaylist from '../Assets/svg/Playlist.svg'\r\nimport { GlobalContext} from './GlobalContext'\r\nimport CadastrarPlaylist from './Cadastrar/CadastrarPlaylist'\r\nimport ListaPlayList from './Listagem/ListaPlayList'\r\n \r\nconst Header = () => {\r\n  const {login, logout} = React.useContext(GlobalContext)\r\n  const menus = React.useRef()\r\n  const header = React.useRef()\r\n  const [showModal, setShowModal] = React.useState(false)\r\n\r\n  function showModalCadastrar(){\r\n    document.querySelector('.showCadastrarPlayList').classList.add('show')\r\n    document.querySelector('.cadastrarPlayList').addEventListener('click',cliqueForaModal)\r\n    setShowModal(true)\r\n  }\r\n  \r\n  function cliqueForaModal(event){\r\n    if(event.target === this){\r\n      document.querySelector('.showCadastrarPlayList').classList.remove('show')\r\n      setShowModal(false)\r\n    }\r\n  }\r\n\r\n  if(login)\r\n  return (\r\n    <>\r\n    <header ref={header} className=\"header\">\r\n      <div>\r\n        <div className=\"header-content\">\r\n          <nav>\r\n            <ul ref={menus} className=\"menu\">\r\n              <li><Link to=\"/\"><img src={imgHome} alt=\"Home\"/> <span className=\"nameMenu\">Home</span></Link></li>\r\n              <li><Link to=\"/lista/album\"><img src={imgAlbum} alt=\"Album\"/> <span className=\"nameMenu\">Álbuns</span></Link></li>\r\n            </ul>\r\n            <ul className=\"playList\">\r\n              <li>\r\n                <img src={imgPlaylist} alt=\"PlayList\"/>\r\n                <span>PlayLists</span>\r\n              </li>\r\n              <ListaPlayList />\r\n              <li className=\"criarPlayList\"><button onClick={showModalCadastrar}>Criar Playlist</button></li>\r\n            </ul>\r\n            <ul className=\"sair\">\r\n              <li><span><img src={imgLogout} onClick={logout} alt=\"Sair\"/></span></li>\r\n            </ul>\r\n          </nav>\r\n        </div>\r\n      </div>\r\n    </header>\r\n    <div className=\"showCadastrarPlayList\">\r\n      <CadastrarPlaylist ShowModal={showModal} />\r\n    </div>\r\n    </>\r\n  )\r\n  else return null\r\n}\r\n\r\nexport default Header\r\n","C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\GlobalContext.js",["122"],"import React from 'react'\r\nimport api from '../Services/Api'\r\nimport { useNavigate  } from 'react-router-dom'\r\n\r\nexport const GlobalContext = React.createContext();\r\n\r\nexport const GlobalStorage = ({children}) => {\r\n  const [dataPlayList, setDataPlayList] = React.useState()\r\n  const [user, setUser] = React.useState(null);\r\n  const [login, setLogin] = React.useState(null);\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [play, setPlay] = React.useState(false)\r\n  const [library, setLibrary] = React.useState()\r\n  const [song, setSong] = React.useState({location: '', songs: []})\r\n  let [indice, setIndice] = React.useState(0)\r\n  const navigate = useNavigate();\r\n\r\n  React.useEffect(() => {\r\n    async function autoLogin(){\r\n      const token = window.localStorage.getItem('token');\r\n      if(token){\r\n        try{\r\n          setLoading(true)\r\n          const response = await api.get('/users', {headers: {Authorization: 'Bearer ' + token,}});\r\n          if(response.statusText !== \"OK\") throw new Error('Token Invalid')\r\n          setUser(response.data[0])\r\n          setLogin(true);\r\n        }catch(erro){\r\n          logout()\r\n        }finally{\r\n          setLoading(false)\r\n        }\r\n      }else{\r\n        setLogin(false)\r\n      }\r\n    }\r\n    autoLogin()\r\n    let listMusic = JSON.parse(window.localStorage.getItem('lastMusic'))\r\n    if(listMusic){\r\n      setIndice(listMusic.indice)\r\n      setSong({location: listMusic.location, songs: listMusic.songs});\r\n    } \r\n    searchAllPlayList()\r\n    searchLibrary()\r\n  },[])\r\n  \r\n  const logout = React.useCallback(\r\n    async function logout(){\r\n      setUser(null);\r\n      setLogin(false);\r\n      setLoading(false)\r\n      window.localStorage.removeItem('token');\r\n      navigate('/login')\r\n    },\r\n    [navigate]\r\n  );\r\n\r\n  async function searchAllPlayList(){\r\n    const response = await api.get('/list/playlist',{headers: {Authorization: 'Bearer ' + window.localStorage.getItem('token'),}})\r\n    setDataPlayList(response.data)\r\n  }\r\n  \r\n  async function searchLibrary(){\r\n    const response = await api.get('/procurar/library',{headers: {Authorization: 'Bearer ' + window.localStorage.getItem('token'),}})\r\n    setLibrary(response.data)\r\n  }\r\n\r\n  async function getUser(token){\r\n    const response = await api.get('/users', {headers: {Authorization: 'Bearer ' + token, }});\r\n    setUser(response.data[0]);\r\n    setLogin(true);\r\n  }\r\n\r\n  async function userLogin(email, password){\r\n    try{\r\n      setLoading(true)\r\n      const formData = new FormData();\r\n      formData.append('email', email)\r\n      formData.append('password', password)\r\n      const response = await api.post('/authenticate', formData);\r\n      if(response.statusText !== \"OK\") throw new Error('Token Invalid')\r\n      window.localStorage.setItem('token', response.data.token)\r\n      await getUser(response.data.token);\r\n      navigate('/')\r\n    }catch(err){\r\n      setLogin(false)\r\n    }finally{\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n\r\n  return <GlobalContext.Provider value={{dataPlayList,searchAllPlayList, user, userLogin,logout, login, loading, play, setPlay, song , setSong, indice,setIndice, searchLibrary, library}}>{children}</GlobalContext.Provider>\r\n}","C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\Login\\Login.js",[],"C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\Login\\LoginForm.js",[],"C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\ProtectedRoute.js",[],"C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\Cadastrar\\Cadastrar.js",[],"C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\Cadastrar\\CadastrarMusica.js",[],"C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\Cadastrar\\CadastrarAlbum.js",[],"C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\Listagem\\Listagem.js",[],"C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\Listagem\\ListaAlbum.js",[],"C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\PlayerFooter.js",["123"],"import React from 'react'\r\nimport './PlayerFooter.css'\r\nimport imgPrev from '../Assets/svg/Prev.svg'\r\nimport imgPlay from '../Assets/svg/Play.svg'\r\nimport imgNext from '../Assets/svg/Next.svg'\r\nimport imgPause from '../Assets/svg/Pause.svg'\r\nimport imgAleatorio from '../Assets/svg/ordenar.svg'\r\nimport imgordenado from '../Assets/svg/aleatorio.svg'\r\nimport imgLinear from '../Assets/svg/linear.svg'\r\nimport imgRepeticao from '../Assets/svg/repetição.svg'\r\nimport imgIconSound from '../Assets/svg/SoundIcon.svg'\r\nimport { GlobalContext} from './GlobalContext'\r\n\r\nconst PlayerFooter = () => {\r\n  let {play, setPlay, login, song, indice, setIndice} = React.useContext(GlobalContext)\r\n  const [input, setInput] = React.useState(0)\r\n  const [inputSound, setInputSound] = React.useState(JSON.parse(window.localStorage.getItem('lastMusic')).sound === 0 ? 0 : JSON.parse(window.localStorage.getItem('lastMusic')).sound || 0.8) \r\n  const [aleatorio, setAleatorio] = React.useState(false)\r\n  const [repeticao, setRepeticao] = React.useState(false)\r\n  let audio = React.useRef()\r\n  let [range,setRange] = React.useState();\r\n  let lastMusic = JSON.parse(window.localStorage.getItem('lastMusic'));\r\n\r\n  function playMusic(){\r\n    if(audio.current !== undefined){\r\n      if(!play){\r\n        audio.current.play();\r\n        audio.current.volume = inputSound;\r\n        setPlay(true);\r\n      }else{\r\n        audio.current.pause();\r\n        clearInterval(range);\r\n        setPlay(false);\r\n      }\r\n    }\r\n  }\r\n\r\n  function changeRange({target}){\r\n    if(play) audio.current.play();\r\n    setInput(target.value)\r\n    audio.current.currentTime = target.value;\r\n  }\r\n\r\n  function moveToNext({target}){\r\n    if(aleatorio){\r\n      let numberRandom = Math.round(Math.random() * (song.songs.length - 1));\r\n      do{\r\n        numberRandom = Math.round(Math.random() * (song.songs.length - 1))\r\n      }while(numberRandom === indice)\r\n      setIndice(numberRandom)\r\n    }else{\r\n      target.id === 'next' ? \r\n      setIndice(indice < song.songs.length - 1 ? indice + 1 : indice = 0) :\r\n      setIndice(indice === 0 ? indice = song.songs.length - 1 : indice - 1)\r\n    }\r\n  }\r\n\r\n  function moveRange(){\r\n    let musica = audio.current;\r\n    setRange(setInterval((event) => {\r\n      setInput(Math.floor(musica.currentTime));\r\n      musica.onended = function (){\r\n        clearInterval(event)\r\n        if(repeticao){\r\n          musica.currentTime = 0;\r\n          setInput(Math.floor(musica.currentTime));\r\n          musica.play();\r\n        }else{\r\n          setIndice(indice < song.songs.length - 1 ? indice + 1 : indice = 0);\r\n          musica.play();\r\n        }\r\n      }\r\n    },1000))\r\n  }\r\n\r\n  function handleChangeSound({target}) {\r\n    setInputSound(target.value)\r\n    audio.current.volume = target.value;\r\n    lastMusic.sound = +target.value;\r\n    window.localStorage.setItem('lastMusic',JSON.stringify(lastMusic))\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if(play) {\r\n        audio.current.play()\r\n        moveRange()\r\n    }else{\r\n      if(audio.current){\r\n        audio.current.pause()\r\n      }\r\n    }\r\n  },[play,indice,song])\r\n\r\n  /*\r\n  if(song[0].album === undefined) return null\r\n  */\r\n\r\n  if(!login) return null\r\n  if(song.songs === undefined) return null\r\n  if(song.songs) \r\n  return (\r\n    <section className=\"playerFooter\">\r\n        <div className=\"playerFooter_left\">\r\n          <div>\r\n            <img src={song.songs[indice].album.img} alt=\"\"/>\r\n          </div>\r\n          <div>\r\n            <h4>{song.songs[indice].title}</h4>\r\n            <span>{song.songs[indice].author.name}</span>\r\n          </div>\r\n        </div>\r\n        <audio ref={audio} className=\"audioSong\" src={song.songs[indice].song}></audio>\r\n        <div className=\"playerFooter_middle\">\r\n          <div>\r\n            <img onClick={() => setAleatorio((d) => !d)} src={aleatorio ? imgAleatorio : imgordenado} className=\"ordem\" alt=\"\"/>\r\n            <button className=\"buttonsPrevNext\" onClick={moveToNext}><img id=\"prev\" src={imgPrev} alt=\"Prev\"/></button>\r\n\r\n            <button className=\"buttonPlay\" onClick={playMusic}>{play ? <img src={imgPause} alt=\"Pause\"/> : <img src={imgPlay} alt=\"Play\"/>}</button>\r\n\r\n            <button className=\"buttonsPrevNext\" onClick={moveToNext}><img id=\"next\" src={imgNext} alt=\"Next\"/></button>\r\n            <img onClick={() => setRepeticao((d) => !d)} src={repeticao ? imgRepeticao : imgLinear} className=\"ordem\" alt=\"\"/>\r\n          </div>\r\n          <div>\r\n            <input type=\"range\" value={input} onChange={changeRange} min=\"0\" max={audio.current && !!+audio.current.duration && typeof audio.current.duration !== 'boolean' ? audio.current.duration : '100'}/>\r\n          </div>\r\n        </div>\r\n        <div className=\"controleSom\">\r\n          <div>\r\n            <img src={imgIconSound} alt=\"Som\"/>\r\n            <input onChange={handleChangeSound} step=\"0.1\" value={inputSound} type=\"range\" defaultValue=\"0\" min=\"0\" max=\"1\"/>\r\n          </div>\r\n        </div>\r\n    </section>\r\n  )\r\n  else return null\r\n}\r\n\r\nexport default PlayerFooter\r\n","C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\Listagem\\ListaPlayList.js",["124","125"],"import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport api from '../../Services/Api'\r\nimport { GlobalContext } from '../GlobalContext'\r\n\r\nconst ListaPlayList = () => {\r\n  const {library, searchLibrary} = React.useContext(GlobalContext)\r\n\r\n  React.useEffect(() => {\r\n    searchLibrary()\r\n  },[])\r\n\r\n  if(library)\r\n  return (\r\n    <ul className=\"playListUl\">\r\n      {library.playLists.map(item => (\r\n        <li key={item._id}>\r\n          <Link to={\"/playlist/\" + item._id}>{item.title}</Link>\r\n        </li>\r\n      ))}\r\n      \r\n    </ul>\r\n  )\r\n  else return null\r\n}\r\n\r\nexport default ListaPlayList\r\n","C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\Cadastrar\\CadastrarPlaylist.js",[],"C:\\Users\\Martins\\Documents\\Programas\\Desenvolvimento Web\\Programas HTML\\Projetos\\React e Node SongsPlayer\\SongPlayer\\src\\Components\\PlayListIndividual.js",["126","127","128","129","130","131"],"import React from 'react'\r\nimport { Link, Navigate, useNavigate, useParams } from 'react-router-dom'\r\nimport './PlayListIndividual.css'\r\nimport api from '../Services/Api'\r\nimport heart from '../Assets/svg/Heart.svg'\r\nimport heartfull from '../Assets/svg/HeartFull.svg'\r\nimport playCirculo from '../Assets/svg/PlayComCirculo.svg'\r\nimport pauseCirculo from '../Assets/svg/PauseComCirculo.svg'\r\nimport tresPontinhos from '../Assets/svg/TrêsPontinhos.svg'\r\nimport {GlobalContext} from './GlobalContext'\r\n\r\nconst PlayListIndividual = () => {\r\n  const [data, setData] = React.useState()\r\n  const {play, user, setPlay,indice, setIndice, setSong, song, searchAllPlayList, dataPlayList, library} = React.useContext(GlobalContext)\r\n  const {id} = useParams();\r\n  const navigate = useNavigate();\r\n  let lastMusic = {location: '', indice: 0, songs: [], sound: 0.8};\r\n\r\n  function handlePlay(mcID,idx){\r\n    data.songs.map((item) => {\r\n      lastMusic.indice = idx;\r\n      lastMusic.location = data._id;\r\n      return lastMusic.songs.push(item)\r\n    })\r\n    setSong({location: data._id ,songs:data.songs})\r\n    window.localStorage.setItem('lastMusic', JSON.stringify(lastMusic))\r\n    if(data._id === song.location){\r\n      song.songs.filter((i,index) => {\r\n        if(i._id === mcID){\r\n            setIndice(index)\r\n            if(indice !== index){\r\n              setPlay(true)\r\n            } else{\r\n              play ? setPlay(false) : setPlay(true);\r\n            }\r\n          } \r\n        })\r\n    }else{\r\n      data.songs.filter((i,index) => {\r\n        if(i._id === mcID){\r\n          setIndice(index);\r\n          if(song.songs[indice]._id === mcID){\r\n            play ? setPlay(false) : setPlay(true)\r\n          }else{\r\n            setPlay(true)\r\n          }\r\n        } \r\n      })\r\n    }\r\n  }\r\n\r\n  function handleMenu({target}){\r\n    if(target.classList.contains('menuAlbumPonto')){\r\n      target.children[1].classList.contains('showMenuAlbum') ?  target.children[1].classList.remove('showMenuAlbum') : target.children[1].classList.add('showMenuAlbum')\r\n    }else if(target.alt === 'Menu'){\r\n      target.nextElementSibling.classList.contains('showMenuAlbum') ?  target.nextElementSibling.classList.remove('showMenuAlbum') : target.nextElementSibling.classList.add('showMenuAlbum')\r\n    }\r\n    searchAllPlayList()\r\n  }\r\n\r\n  async function handleAddPlaylist(playListId, MusicId){\r\n    const formData = new FormData();\r\n    formData.append('playlistId', playListId);\r\n    formData.append('musicId', MusicId);\r\n    await api.post('/adicionar/playlist/musica', formData, {headers: {Authorization: 'Bearer ' + window.localStorage.getItem('token'),}});\r\n    document.querySelectorAll('.showMenuAlbum').forEach(i => {\r\n      i.classList.remove('showMenuAlbum')\r\n    })\r\n  }\r\n\r\n  async function handleDeleteMusic(musicId, playListId){\r\n    await api.delete('/remover/playlists/musica',{\r\n      headers: {\r\n        Authorization:  'Bearer ' + window.localStorage.getItem('token')\r\n      },\r\n      data: { source: {musicId,playListId}}\r\n    });\r\n    searchOnePlay()\r\n  }\r\n\r\n  async function handleApagarPlaylist(){\r\n    await api.delete('/remover/playlist/'+ id,{\r\n      headers: {\r\n        Authorization:  'Bearer ' + window.localStorage.getItem('token')\r\n      }\r\n    });\r\n    navigate('/')\r\n    searchAllPlayList();\r\n  }\r\n\r\n  async function handleApagarAlbum(){\r\n    await api.delete('/remover/Album/'+ id,{\r\n      headers: {\r\n        Authorization:  'Bearer ' + window.localStorage.getItem('token')\r\n      }\r\n    });\r\n    navigate('/');\r\n  }\r\n\r\n  async function searchOnePlay(){\r\n    const response = await api.get(`/playlist/${id}`,{headers: {Authorization: 'Bearer ' + window.localStorage.getItem('token'),}})\r\n    setData(response.data)\r\n    if(response.data === \"\"){\r\n      const response = await api.get(`/album/${id}`,{headers: {Authorization: 'Bearer ' + window.localStorage.getItem('token'),}})\r\n      setData(response.data)\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    searchOnePlay()\r\n  },[id])\r\n  \r\n\r\n  if(data)\r\n  return (\r\n    <section className=\"playlistIndividual\">\r\n      <div className=\"container\">\r\n        <div className=\"dadosPlaylist\">\r\n          <div>\r\n            <img src={data.img} alt=\"\"/>\r\n          </div>\r\n          <div>\r\n            <span>{data.type}</span>\r\n            <h2>{data.title}</h2>\r\n            <p>Criado por: <span>{data.author.name}</span></p>\r\n            <div>\r\n              <button>Play</button>\r\n              {dataPlayList.filter(e => e._id === id ).length === 0 && <button><img src={library.playLists.filter(i => { if(i._id === id) return true}).length !== 0 ?heartfull : heart} alt=\"\"/></button>} \r\n              <button onClick={handleMenu} className=\"menuPrincipalPlaylist menuAlbumPonto\">\r\n                <img src={tresPontinhos} alt=\"Menu\"/>\r\n                <ul className=\"menuOptions\">\r\n                  {data.type === 'Album' ?\r\n                    data.author._id === user._id && <li onClick={handleApagarAlbum}>Apagar Album</li>\r\n                  :\r\n                  dataPlayList.map(i => (\r\n                    i._id === id && <li onClick={handleApagarPlaylist}>Apagar a Playlist</li>\r\n                  ))\r\n                  }\r\n                </ul>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {data.type === 'Album' ? \r\n            <div className=\"listaMusicasPlay\">\r\n              <ul>\r\n                <li></li>\r\n                <li></li>\r\n                <li>Título</li>\r\n              </ul>\r\n              {data.songs.map((item, index) => (\r\n                <ul key={item._id}>\r\n                  <li><img src={song.songs[indice] === undefined ? playCirculo : song.songs[indice]._id === item._id && play ? pauseCirculo : playCirculo} onClick={(event) => handlePlay(item._id, index)} alt=\"\"/> </li>\r\n                  <li><img src={heart} alt=\"\"/> </li>\r\n                  <li>{item.title}</li>\r\n                  <li onClick={handleMenu} className=\"menuAlbumPonto\">\r\n                    <img src={tresPontinhos} alt=\"Menu\"/>\r\n                    <ul className=\"menuOptions\">\r\n                      <li>Adicionar à playlist <span>&gt;</span>\r\n                        <ul className=\"menuPlaylists\">\r\n                          {dataPlayList && dataPlayList.map(i => (\r\n                            <li key={i._id} onClick={() => handleAddPlaylist(i._id, item._id)} >{i.title}</li>\r\n                          ))}\r\n                        </ul>\r\n                      </li>\r\n                    </ul>\r\n                  </li>\r\n                </ul>\r\n              ))}\r\n            </div>:\r\n            <div className=\"listaMusicasPlay\">\r\n            <ul>\r\n              <li></li>\r\n              <li></li>\r\n              <li>Título</li>\r\n              <li>Artista</li>\r\n              <li>Álbum</li>\r\n            </ul>\r\n            {data.songs.map((item, index) => (\r\n              <ul key={item._id}>\r\n                <li><img src={song.songs[indice] === undefined ? playCirculo : song.songs[indice]._id === item._id && play ? pauseCirculo : playCirculo}  onClick={(event) => handlePlay(item._id, index)}  alt=\"\"/> </li>\r\n                <li><img src={heart} alt=\"\"/> </li>\r\n                <li>{item.title}</li>\r\n                <li>{item.author.name}</li>\r\n                <li><Link to={\"/album/\" + item.album._id}>{item.album.title}</Link> </li>\r\n                <li onClick={handleMenu} className=\"menuAlbumPonto\">\r\n                  <img src={tresPontinhos} alt=\"Menu\"/>\r\n                  <ul className=\"menuOptions\">\r\n                    {dataPlayList.map(i => i._id === id ? <li onClick={() => handleDeleteMusic(item._id, id)}>Remover da Playlist </li> : '')}\r\n                    <li>Adicionar à playlist <span>&gt;</span>\r\n                      <ul className=\"menuPlaylists\">\r\n                        {dataPlayList.filter(i => {\r\n                          if(i._id !== id) return true;\r\n                        }).map(e => <li key={e._id} onClick={() => handleAddPlaylist(e._id, item._id)} >{e.title}</li>)}\r\n                      </ul>\r\n                    </li>\r\n                  </ul>\r\n                </li>\r\n              </ul>\r\n            ))}\r\n          </div>\r\n        }\r\n      </div>\r\n    </section>\r\n  )\r\n  else return null\r\n}\r\n\r\nexport default PlayListIndividual\r\n",{"ruleId":"132","replacedBy":"133"},{"ruleId":"134","replacedBy":"135"},{"ruleId":"132","replacedBy":"136"},{"ruleId":"134","replacedBy":"137"},{"ruleId":"138","severity":1,"message":"139","line":4,"column":8,"nodeType":"140","messageId":"141","endLine":4,"endColumn":12},{"ruleId":"132","replacedBy":"142"},{"ruleId":"134","replacedBy":"143"},{"ruleId":"132","replacedBy":"144"},{"ruleId":"134","replacedBy":"145"},{"ruleId":"132","replacedBy":"146"},{"ruleId":"134","replacedBy":"147"},{"ruleId":"138","severity":1,"message":"148","line":6,"column":8,"nodeType":"140","messageId":"141","endLine":6,"endColumn":16},{"ruleId":"149","severity":1,"message":"150","line":45,"column":5,"nodeType":"151","endLine":45,"endColumn":7,"suggestions":"152"},{"ruleId":"149","severity":1,"message":"153","line":92,"column":5,"nodeType":"151","endLine":92,"endColumn":23,"suggestions":"154"},{"ruleId":"138","severity":1,"message":"155","line":3,"column":8,"nodeType":"140","messageId":"141","endLine":3,"endColumn":11},{"ruleId":"149","severity":1,"message":"156","line":11,"column":5,"nodeType":"151","endLine":11,"endColumn":7,"suggestions":"157"},{"ruleId":"138","severity":1,"message":"158","line":2,"column":16,"nodeType":"140","messageId":"141","endLine":2,"endColumn":24},{"ruleId":"159","severity":1,"message":"160","line":28,"column":35,"nodeType":"161","messageId":"162","endLine":28,"endColumn":37},{"ruleId":"159","severity":1,"message":"160","line":39,"column":35,"nodeType":"161","messageId":"162","endLine":39,"endColumn":37},{"ruleId":"149","severity":1,"message":"163","line":111,"column":5,"nodeType":"151","endLine":111,"endColumn":9,"suggestions":"164"},{"ruleId":"159","severity":1,"message":"165","line":128,"column":117,"nodeType":"161","messageId":"166","endLine":128,"endColumn":119},{"ruleId":"159","severity":1,"message":"165","line":192,"column":48,"nodeType":"161","messageId":"166","endLine":192,"endColumn":50},"no-native-reassign",["167"],"no-negated-in-lhs",["168"],["167"],["168"],"no-unused-vars","'imgs' is defined but never used.","Identifier","unusedVar",["167"],["168"],["167"],["168"],["167"],["168"],"'imgMusic' is defined but never used.","react-hooks/exhaustive-deps","React Hook React.useEffect has a missing dependency: 'logout'. Either include it or remove the dependency array.","ArrayExpression",["169"],"React Hook React.useEffect has a missing dependency: 'moveRange'. Either include it or remove the dependency array.",["170"],"'api' is defined but never used.","React Hook React.useEffect has a missing dependency: 'searchLibrary'. Either include it or remove the dependency array.",["171"],"'Navigate' is defined but never used.","array-callback-return","Array.prototype.filter() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","React Hook React.useEffect has a missing dependency: 'searchOnePlay'. Either include it or remove the dependency array.",["172"],"Array.prototype.filter() expects a value to be returned at the end of arrow function.","expectedAtEnd","no-global-assign","no-unsafe-negation",{"desc":"173","fix":"174"},{"desc":"175","fix":"176"},{"desc":"177","fix":"178"},{"desc":"179","fix":"180"},"Update the dependencies array to be: [logout]",{"range":"181","text":"182"},"Update the dependencies array to be: [play, indice, song, moveRange]",{"range":"183","text":"184"},"Update the dependencies array to be: [searchLibrary]",{"range":"185","text":"186"},"Update the dependencies array to be: [id, searchOnePlay]",{"range":"187","text":"188"},[1538,1540],"[logout]",[3079,3097],"[play, indice, song, moveRange]",[311,313],"[searchLibrary]",[3984,3988],"[id, searchOnePlay]"]